<!-- CENTER FORM -->
<main class="flex-1 flex items-center justify-center w-full px-4">
  <div class="w-full max-w-md bg-gray-50 p-8 rounded-2xl shadow-lg">
    <h2 class="text-2xl font-semibold text-center mb-6">Enter confirmation code</h2>

    {% if error %}
      {% if error == "OTP expired" %}
        <p class="text-center text-red-500 mb-4">
          Your confirmation code has expired. Please sign up again.
        </p>
      {% else %}
        <p class="text-center text-red-500 mb-4">{{ error }}</p>
      {% endif %}
    {% endif %}

    {% if error == "OTP expired" %}
      <!-- Кнопка регистрации заново -->
      <a href="/auth/register"
         class="block w-full text-center py-2 rounded-lg text-white font-medium bg-gradient-to-r from-purple-900 via-gray-800 to-black hover:opacity-90 transition">
        Sign up again
      </a>
    {% else %}
      <!-- Форма подтверждения -->
      <form action="/auth/confirm" method="post" class="space-y-4">
        <input type="hidden" name="user_id" value="{{ user_id }}" />
        <div>
          <label class="block text-sm font-medium mb-1">
            Verification code sent. Check your email.
          </label>
          <input type="text" name="otp_code" required
                 class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-purple-500" />
        </div>
        <button type="submit"
                class="w-full py-2 rounded-lg text-white font-medium bg-gradient-to-r from-purple-900 via-gray-800 to-black hover:opacity-90 transition">
          Confirm
        </button>
      </form>
    {% endif %}
  </div>
</main>
